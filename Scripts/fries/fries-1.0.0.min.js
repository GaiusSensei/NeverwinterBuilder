!function(){var a=function(){var k=document.querySelectorAll(".action-bar"),q=k.length,f=document.querySelectorAll(".action-overflow"),m=f.length;while(f&&m--){f[m].parentNode.removeChild(f[m])}if(window.innerWidth<=480){while(q--){var g=k[q].querySelector(".actions"),p=k[q].querySelectorAll(".actions .action");if(p.length>2&&g.getAttribute("data-overflow")!=="false"){var l=p[0],j=p.length,d=document.createElement("ol"),b=document.createElement("li"),n=document.createElement("a"),e=document.createElement("i");d.setAttribute("reversed","reversed");d.classList.add("action-overflow-list");d.classList.add("spinner");for(var o=1;o<j;o++){p[o].parentNode.classList.add("action-overflow-hidden");var r=document.createElement("li"),h=document.createElement("a");h.innerHTML=p[o].getAttribute("title");h.setAttribute("href",p[o].getAttribute("href"));h.setAttribute("data-transition",p[o].getAttribute("data-transition"));h.setAttribute("data-timeout",p[o].getAttribute("data-timeout"));h.setAttribute("data-ignore",p[o].getAttribute("data-ignore"));r.classList.add("spinner-item");r.appendChild(h);d.appendChild(r)}n.classList.add("action");n.classList.add("action-overflow-icon");n.classList.add("toggle-spinner");n.appendChild(e);b.classList.add("action-overflow");b.appendChild(n);b.appendChild(d);k[q].querySelector(".actions").appendChild(b)}}}else{while(q--){var p=k[q].querySelectorAll(".actions .action");j=p.length;while(j--){p[j].parentNode.classList.remove("action-overflow-hidden")}}}};window.addEventListener("load",a,false);window.addEventListener("resize",a,false);window.addEventListener("popstate",a,false)}();!function(){var q;var a=20;var b=sessionStorage;var g={};var m=function(s,t){l.id=s.id;if(t){s=f(s.id)}b[s.id]=JSON.stringify(s);window.history.replaceState(s.id,s.title,s.url);g[s.id]=document.body.cloneNode(true)};var e=function(){var u=l.id;var t=JSON.parse(b.cacheForwardStack||"[]");var s=JSON.parse(b.cacheBackStack||"[]");s.push(u);while(t.length){delete b[t.shift()]}while(s.length>a){delete b[s.shift()]}window.history.pushState(null,"",b[l.id].url);b.cacheForwardStack=JSON.stringify(t);b.cacheBackStack=JSON.stringify(s)};var k=function(y,w){var u=w=="forward";var v=JSON.parse(b.cacheForwardStack||"[]");var s=JSON.parse(b.cacheBackStack||"[]");var x=u?s:v;var t=u?v:s;if(l.id){x.push(l.id)}t.pop();b.cacheForwardStack=JSON.stringify(v);b.cacheBackStack=JSON.stringify(s)};var f=function(s){return JSON.parse(b[s]||null)||{}};var r=function(t){var s=o(t);if(!s){return}t.preventDefault();l({url:s.getAttribute("href"),hash:s.hash,container:".page",timeout:s.getAttribute("data-timeout"),transition:s.getAttribute("data-transition")})};var n=function(w){var t;var u;var v;var y;var s;var x;var z=w.state;if(!z||!b[z]){return}v=l.id<z?"forward":"back";k(z,v);t=f(z);u=g[z];if(t.title){document.title=t.title}if(v=="back"){s=JSON.parse(v=="back"?b.cacheForwardStack:b.cacheBackStack);x=f(s[s.length-1])}else{x=t}if(v=="back"&&!x.id){return l.id=z}y=v=="back"?"pop":x.transition;if(!u){return l({id:t.id,url:t.url,title:t.title,timeout:t.timeout,transition:y,ignorePush:true})}p((t.contents||u.querySelector(".page")).cloneNode(true),document.querySelector(".page"),y);l.id=z;document.body.offsetHeight};var l=function(s){var t=l.xhr;s.container=document.querySelector(s.container);if(!s.container){s.container=document.querySelector(".page")}if(t&&t.readyState<4){console.log("xhr.readyState is "+t.readyState+". Aborting XHR");t.onreadystatechange=function(){};t.abort()}t=new XMLHttpRequest();t.open("GET",s.url,false);t.setRequestHeader("X-DOCUMENT","true");t.onreadystatechange=function(){if(s._timeout){clearTimeout(s._timeout)}if(t.readyState==4){t.status==200||t.status==0?c(t,s):d(s.url)}};if(!l.id){m({id:+new Date,url:s.url,title:document.title,timeout:s.timeout,transition:null})}if(s.timeout){s._timeout=setTimeout(function(){t.abort("timeout")},s.timeout)}t.send();if(t.readyState&&!s.ignorePush){e()}};var p=function(u,s,w,x){if(!w){s.innerHTML=u.innerHTML}else{s.parentNode.insertBefore(u,s)}if(!w){x&&x()}if(/push/.test(w)){u.classList.add(w);s.classList.add("fade");u.addEventListener("webkitAnimationEnd",t);function t(){u.removeEventListener("webkitAnimationEnd",t);u.classList.remove(w);s.parentNode.removeChild(s);x&&x()}}if(/pop/.test(w)){u.style.opacity=1;s.classList.add("pop");s.addEventListener("webkitAnimationEnd",v);function v(){s.removeEventListener("webkitAnimationEnd",v);s.parentNode.removeChild(s);x&&x()}}};var c=function(u,s){var t=j(u,s);if(!t.contents){window.history.replaceState(null,"","#");window.location.replace(s.url);return}p(t.contents,s.container,s.transition,function(){m({id:s.id||+new Date,url:t.url,title:t.title,timeout:s.timeout,transition:s.transition},s.id);h()});if(t.title){document.title=t.title}if(!s.ignorePush&&window._gaq){_gaq.push(["_trackPageview"])}if(!s.hash){return}};var d=function(s){throw new Error("Could not get "+s)};var j=function(v,s){var u={};var t=v.responseText;u.url=s.url;if(!t){return u}if(/<html/i.test(t)){head=document.createElement("div");body=document.createElement("div");head.innerHTML=t.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0];body.innerHTML=t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]}else{head=body=document.createElement("div");head.innerHTML=t}u.title=head.querySelector("title");u.title=u.title&&u.title.innerText.trim();u.contents=body.querySelector(".page");return u};var h=function(){if(typeof CustomEvent==="undefined"){CustomEvent=function(t,v){var u=document.createEvent("CustomEvent");u.initCustomEvent(t,v.detail,v.bubbles,v.cancelable);return u}}var s=new CustomEvent("push",{detail:{state:f(l.id)},bubbles:true,cancelable:true});window.dispatchEvent(s)};var i=function(u){var s,t=document.querySelectorAll("a");for(;u&&u!==document;u=u.parentNode){for(s=t.length;s--;){if(t[s]===u){return u}}}};var o=function(t){var s=i(t.target);if(!s||t.which>1||t.metaKey||t.ctrlKey||q||location.protocol!==s.protocol||location.host!==s.host||!s.hash&&/#/.test(s.href)||s.hash&&s.href.replace(s.hash,"")===location.href.replace(location.hash,"")||s.getAttribute("data-ignore")=="true"){return}return s};window.addEventListener("touchstart",function(){q=false});window.addEventListener("touchmove",function(){q=true});window.addEventListener("click",r);window.addEventListener("popstate",n)}();!function(){var e=function(j){var g,h=document.querySelectorAll(".toggle-spinner");for(;j&&j!==document;j=j.parentNode){for(g=h.length;g--;){if(h[g]===j){return j}}}};var d=function(h){var g=e(h.target);if(!g){return}return g};var f=function(j){var g,h=document.querySelectorAll(".spinner-item");for(;j&&j!==document;j=j.parentNode){for(g=h.length;g--;){if(h[g]===j){return j}}}};var b=function(h){var g=f(h.target);if(!g){return}return g};var c=function(h){var g=d(h);if(!g){return}a(g)};var a=function(h){var i=h.parentNode.querySelectorAll(".spinner")[0];if(!i.classList.contains("active")){i.style.display="block"}setTimeout(function(){i.classList.toggle("active");i.addEventListener("webkitTransitionEnd",g)},20);function g(){if(!i.classList.contains("active")){i.style.display="none"}}};document.addEventListener("touchend",function(j){if(!b(j)&&!d(j)){var g=document.querySelectorAll(".spinner"),h=g.length;while(h--){g[h].classList.remove("active")}}});window.addEventListener("touchend",c,false)}();!function(){var a=function(d){var c,b=document.querySelectorAll(".tab-fixed li a");for(;d&&d!==document;d=d.parentNode){for(c=b.length;c--;){if(b[c]===d){return d}}}};window.addEventListener("touchend",function(h){var c;var m;var k;var f;var i="active";var d="."+i;var b=a(h.target);if(!b){return}h.preventDefault();f=b.parentNode;c=f.parentNode.querySelector(d);if(c){c.classList.remove(i)}f.classList.add(i);k=document.querySelector(b.hash);if(!k){return}m=k.parentNode.querySelector(d);if(m){m.classList.remove(i)}k.classList.add(i);var j=document.querySelectorAll(".tab-item"),l=j.length;while(l--){j[l].classList.add("in-transition");j[l].style.left=(l*100)+"%";if(j[l]==k){targetIndex=l}if(j[l]==m){activeIndex=l}}l=j.length;setTimeout(function(){while(l--){j[l].style.webkitTransform="translateX("+((targetIndex==0)?0:"-"+(targetIndex*100))+"%)";j[l].addEventListener("webkitTransitionEnd",g)}},50);function g(n){n.target.classList.remove("in-transition")}})}();